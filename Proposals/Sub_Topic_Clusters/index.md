=Sub-topic Clusters in WPD=

We have [[WPD:Implementation_Patterns/Templates#Topics.2C_Topic_Clusters.2C_See_Also|topic clusters]], which were designed to automatically generate a section of related pages in the See Also section. This feature allows an author to create associations between articles without the author having to know about (or where to find) the articles.

The current implementation works pretty well for API pages. For example, a high-level topic cluster pertains to a broad area of focus, like Off-line Storage, to which the [[apis/filesystem|FileSystem]], IndexedDB, AppCache, and StorageQuota APIs belong. But only the API Listing pages belong in this topic cluster, not their member API object child pages (i.e. apis/filesystem/FileEntry); nor do the individual properties, methods, and events of those objects belong. We've been reasonably successful keeping the topic clusters succinct and meaningful for the APIs. Also, tutorial and concept pages fit into the current implementation the way they should. But for the CSS pages, things are getting out of control. 

==Problems==

* Too many pages being assigned to the same cluster resulting in overly-long lists of links. 
** [[css/selectors/attributes/whitespace]] (An example of a really long list under Selectors.)
* The list of [[Property:Topic_Cluster]] items is getting very long and unwieldy.
* Duplicate pages in topic clusters, and duplicate topic clusters. Examples:
** [[css/properties/font-family]] (Note CSS Fonts and Fonts)
* There are two basic use cases for topic clusters:
** To group pages of the same type, i.e. css/border-style, css/border-right-style, css/border-left-style, etc. (This is more of a navigation use case.)
** To provide a mix of reference, conceptual, and tutorial articles of the same topic. (This is more true to the intent of topic clusters.)
: Our current implementation does not differentiate between these two use cases, resulting in lists that are a mix of both.

One of the hurdles is the lack of listing pages for groups of CSS properties and the flat structure of the css/ namespace. If we had listing pages for groups of CSS properties, we could reduce the length of the lists generated by simply assigning only the CSS property listing pages (for example, a css/border page, which would be the listing page for css/border/border-style, css/border/border-right-style, etc.) But we don't want to create a bunch of pages and do a huge re-org of the css namespace just for this. 

==Objectives==

We'd like ''sub''-topic clusters to provide a categorization layer over the CSS properties in lieu of listing pages. For example, we would create sub-topic clusters for each of the topic clusters in column three of the [[Meta:web_platform_wednesday|WPW page]]. But these would be distinct from the existing topic clusters, which we'll keep (and clean up, of course).

These sub-topic clusters could be used in a navigation structure, like the way SitePoint does it. Notice how in the navigation pane, the [http://reference.sitepoint.com/css/height height] property page is a child of Dimensions, and Dimensions is a child of Box Properties, yet the URL still reads, "css/height." No listing pages exist for either the Dimensions or Box Properties interstitials. They are only nodes in the navigation tree.

However, building out a navigation UI and all that is beyond the scope of this proposal. Here we're concerned with building just the infrastructure with templates and properties to enable the sub-topic clusters. For this project, the sub-topic clusters would function and display the same way the current topic clusters do.

As a mechanism, we need to make this extensible so we can implement it for not just CSS properties, but other sections of WPD that are mostly flat, like the other CSS namespaces, HTML, and so forth.

==Design==

Currently, topic clusters work like this:

The Topic Cluster pane gets generated in the [[Form:See_Also]] with the following code:
<nowiki>
==See also section==
Most of this section is auto-generated by assigning an article to a topic cluster. Only use Manual links rarely; instead add a new topic cluster to [[Property:Topic_Cluster]]
{| class="formtable"
! Topic clusters: 
| <nowiki>{{{field|Topic_clusters|property=Topic_Cluster|list}}}</nowiki>
|-
</nowiki>
This draws the checkboxes for the topic clusters with the labels from the [[Property:Topic_Clusters]].